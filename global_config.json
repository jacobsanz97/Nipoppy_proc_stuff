{
    "DATASET_NAME": "<DATASET_NAME>",
    "VISIT_IDS": ["BL"],
    "SESSION_IDS": ["BL"],
    "SUBSTITUTIONS": {
        "[[NIPOPPY_DPATH_CONTAINERS]]": "/home/jacobsr/scratch/nipoppy_kennedy/testroot/proc/containers",
        "[[HEUDICONV_HEURISTIC_FILE]]": "<PATH_TO_HEURISTIC_FILE>",
        "[[DCM2BIDS_CONFIG_FILE]]": "<PATH_TO_CONFIG_FILE>",
        "[[FREESURFER_LICENSE_FILE]]": "/home/jacobsr/scratch/nipoppy_kennedy/testroot/proc/containers/license.txt",
        "[[TEMPLATEFLOW_HOME]]": "/home/jacobsr/scratch/nipoppy_kennedy/testroot/templateflow_dir",
	"[[JACOB_TEMPLATES]]": "/home/jacobsr/scratch/nipoppy_kennedy/testroot/proc/jacob_templates"
    },
    "DICOM_DIR_PARTICIPANT_FIRST": true,
    "CONTAINER_CONFIG": {
        "COMMAND": "apptainer",
        "ARGS": [
            "--cleanenv"
        ]
},
    "BIDS_PIPELINES": [
        {
            "NAME": "heudiconv",
            "VERSION": "0.12.2",
            "CONTAINER_INFO": {
                "FILE": "[[NIPOPPY_DPATH_CONTAINERS]]/[[NIPOPPY_PIPELINE_NAME]]_[[NIPOPPY_PIPELINE_VERSION]].sif",
                "URI": "docker://nipy/[[NIPOPPY_PIPELINE_NAME]]:[[NIPOPPY_PIPELINE_VERSION]]"
            },
            "STEPS": [
                {
                    "NAME": "prepare",
                    "INVOCATION_FILE": "[[NIPOPPY_DPATH_INVOCATIONS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]]-prepare.json",
                    "DESCRIPTOR_FILE": "[[NIPOPPY_DPATH_DESCRIPTORS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]].json"
                },
                {
                    "NAME": "convert",
                    "INVOCATION_FILE": "[[NIPOPPY_DPATH_INVOCATIONS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]]-convert.json",
                    "DESCRIPTOR_FILE": "[[NIPOPPY_DPATH_DESCRIPTORS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]].json",
                    "CONTAINER_CONFIG": {
                        "ARGS": [
                            "--bind",
                            "[[HEUDICONV_HEURISTIC_FILE]]"
                        ]
                    },
                    "UPDATE_DOUGHNUT": true
                }
            ]
        },
        {
            "NAME": "dcm2bids",
            "VERSION": "3.1.0",
            "CONTAINER_INFO": {
                "FILE": "[[NIPOPPY_DPATH_CONTAINERS]]/[[NIPOPPY_PIPELINE_NAME]]_[[NIPOPPY_PIPELINE_VERSION]].sif",
                "URI": "docker://unfmontreal/[[NIPOPPY_PIPELINE_NAME]]:[[NIPOPPY_PIPELINE_VERSION]]"
            },
            "STEPS": [
                {
                    "NAME": "prepare",
                    "INVOCATION_FILE": "[[NIPOPPY_DPATH_INVOCATIONS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]]-prepare.json",
                    "DESCRIPTOR_FILE": "[[NIPOPPY_DPATH_DESCRIPTORS]]/dcm2bids_helper-[[NIPOPPY_PIPELINE_VERSION]].json"
                },
                {
                    "NAME": "convert",
                    "INVOCATION_FILE": "[[NIPOPPY_DPATH_INVOCATIONS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]]-convert.json",
                    "DESCRIPTOR_FILE": "[[NIPOPPY_DPATH_DESCRIPTORS]]/dcm2bids-[[NIPOPPY_PIPELINE_VERSION]].json",
                    "CONTAINER_CONFIG": {
                        "ARGS": [
                            "--bind",
                            "[[DCM2BIDS_CONFIG_FILE]]"
                        ]
                    },
                    "UPDATE_DOUGHNUT": true
                }
            ]
        },
        {
            "NAME": "bidscoin",
            "VERSION": "4.3.2",
            "STEPS": [
                {
                    "NAME": "prepare",
                    "INVOCATION_FILE": "[[NIPOPPY_DPATH_INVOCATIONS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]]-prepare.json",
                    "DESCRIPTOR_FILE": "[[NIPOPPY_DPATH_DESCRIPTORS]]/bidsmapper-[[NIPOPPY_PIPELINE_VERSION]].json"
                },
                {
                    "NAME": "edit",
                    "INVOCATION_FILE": "[[NIPOPPY_DPATH_INVOCATIONS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]]-edit.json",
                    "DESCRIPTOR_FILE": "[[NIPOPPY_DPATH_DESCRIPTORS]]/bidseditor-[[NIPOPPY_PIPELINE_VERSION]].json"
                },
                {
                    "NAME": "convert",
                    "INVOCATION_FILE": "[[NIPOPPY_DPATH_INVOCATIONS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]]-convert.json",
                    "DESCRIPTOR_FILE": "[[NIPOPPY_DPATH_DESCRIPTORS]]/bidscoiner-[[NIPOPPY_PIPELINE_VERSION]].json"
                }
            ]
        }
    ],
    "PROC_PIPELINES": [
        {
            "NAME": "fmriprep",
            "VERSION": "23.1.3",
            "CONTAINER_INFO": {
                "FILE": "[[NIPOPPY_DPATH_CONTAINERS]]/[[NIPOPPY_PIPELINE_NAME]]_[[NIPOPPY_PIPELINE_VERSION]].sif",
                "URI": "docker://nipreps/[[NIPOPPY_PIPELINE_NAME]]:[[NIPOPPY_PIPELINE_VERSION]]"
            },
            "CONTAINER_CONFIG": {
                "ENV_VARS": {
                    "TEMPLATEFLOW_HOME": "[[TEMPLATEFLOW_HOME]]"
                },
                "ARGS": [
                    "--bind",
                    "[[FREESURFER_LICENSE_FILE]]",
                    "--bind",
                    "[[TEMPLATEFLOW_HOME]]"
                ]
            },
            "STEPS": [
                {
                    "INVOCATION_FILE": "[[NIPOPPY_DPATH_INVOCATIONS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]].json",
                    "DESCRIPTOR_FILE": "[[NIPOPPY_DPATH_DESCRIPTORS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]].json"
                }
            ],
            "TRACKER_CONFIG_FILE": "[[NIPOPPY_DPATH_TRACKER_CONFIGS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]].json"
        },
        {
            "NAME": "freesurfer",
            "VERSION": "7.3.2",
            "DESCRIPTION": "Freesurfer version associated with fMRIPrep 23.1.3",
            "TRACKER_CONFIG_FILE": "[[NIPOPPY_DPATH_TRACKER_CONFIGS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]].json"
        },
        {
            "NAME": "mriqc",
            "VERSION": "23.1.0",
            "CONTAINER_INFO": {
                "FILE": "[[NIPOPPY_DPATH_CONTAINERS]]/[[NIPOPPY_PIPELINE_NAME]]_[[NIPOPPY_PIPELINE_VERSION]].sif",
                "URI": "docker://nipreps/[[NIPOPPY_PIPELINE_NAME]]:[[NIPOPPY_PIPELINE_VERSION]]"
            },
            "CONTAINER_CONFIG": {
                "ENV_VARS": {
                    "TEMPLATEFLOW_HOME": "[[TEMPLATEFLOW_HOME]]"
                },
                "ARGS": [
                    "--bind",
                    "[[TEMPLATEFLOW_HOME]]"
                ]
            },
            "STEPS": [
                {
                    "INVOCATION_FILE": "[[NIPOPPY_DPATH_INVOCATIONS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]].json",
                    "DESCRIPTOR_FILE": "[[NIPOPPY_DPATH_DESCRIPTORS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]].json"
                }
            ],
            "TRACKER_CONFIG_FILE": "[[NIPOPPY_DPATH_TRACKER_CONFIGS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]].json"
        },
        {
            "NAME": "fslanat",
            "VERSION": "6.0",
            "CONTAINER_INFO": {
                "FILE": "[[NIPOPPY_DPATH_CONTAINERS]]/[[NIPOPPY_PIPELINE_NAME]]_[[NIPOPPY_PIPELINE_VERSION]].simg"
            },
            "CONTAINER_CONFIG": {
                "ARGS": [
                    "--bind",
                    "[[NIPOPPY_DPATH_PIPELINE_OUTPUT]]/[[NIPOPPY_BIDS_PARTICIPANT]]/[[NIPOPPY_BIDS_SESSION]]"
                ]
            },
            "STEPS": [
                {
                    "INVOCATION_FILE": "[[NIPOPPY_DPATH_INVOCATIONS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]].json",
                    "DESCRIPTOR_FILE": "[[NIPOPPY_DPATH_DESCRIPTORS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]].json"
                }
            ]
        },
        {
            "NAME": "freesurfer",
            "VERSION": "7.1.1",
            "CONTAINER_INFO": {
                "FILE": "[[NIPOPPY_DPATH_CONTAINERS]]/[[NIPOPPY_PIPELINE_NAME]]_[[NIPOPPY_PIPELINE_VERSION]].sif"
            },
            "CONTAINER_CONFIG": {
	        "ENV_VARS": {
                    "SUBJECTS_DIR": "[[NIPOPPY_DPATH_PIPELINE_OUTPUT]]/[[NIPOPPY_BIDS_PARTICIPANT]]/[[NIPOPPY_BIDS_SESSION]]",
		    "FS_LICENSE": "[[FREESURFER_LICENSE_FILE]]"
                },
                "ARGS": [
		    "--bind",
		    "[[NIPOPPY_DPATH_CONTAINERS]]/[[NIPOPPY_PIPELINE_NAME]]_[[NIPOPPY_PIPELINE_VERSION]].sif",
                    "--bind",
                    "[[FREESURFER_LICENSE_FILE]]",
		    "--bind",
		    "[[NIPOPPY_DPATH_PIPELINE_OUTPUT]]/[[NIPOPPY_BIDS_PARTICIPANT]]/[[NIPOPPY_BIDS_SESSION]]"
                ]
            },
            "STEPS": [
                {
                    "INVOCATION_FILE": "[[NIPOPPY_DPATH_INVOCATIONS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]].json",
                    "DESCRIPTOR_FILE": "[[NIPOPPY_DPATH_DESCRIPTORS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]].json"
                }
            ]
        },
        {
            "NAME": "freesurferBIDS",
            "VERSION": "7.4.1",
            "CONTAINER_INFO": {
                "FILE": "[[NIPOPPY_DPATH_CONTAINERS]]/[[NIPOPPY_PIPELINE_NAME]]_[[NIPOPPY_PIPELINE_VERSION]].sif"
            },
            "CONTAINER_CONFIG": {
                "ARGS": [
                    "--bind",
                    "[[FREESURFER_LICENSE_FILE]]",
                    "--bind",
                    "[[NIPOPPY_DPATH_PIPELINE_OUTPUT]]/[[NIPOPPY_BIDS_PARTICIPANT]]/[[NIPOPPY_BIDS_SESSION]]"
                ]
            },
            "STEPS": [
                {
                    "INVOCATION_FILE": "[[NIPOPPY_DPATH_INVOCATIONS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]].json",
                    "DESCRIPTOR_FILE": "[[NIPOPPY_DPATH_DESCRIPTORS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]].json"
                }
            ]
        },
	{
            "NAME": "ants",
            "VERSION": "2.5.3",
            "CONTAINER_INFO": {
                "FILE": "[[NIPOPPY_DPATH_CONTAINERS]]/[[NIPOPPY_PIPELINE_NAME]]_[[NIPOPPY_PIPELINE_VERSION]].sif"
            },
            "CONTAINER_CONFIG": {
                "ARGS": [
                    "--bind",
                    "[[JACOB_TEMPLATES]]",
                    "--bind",
                    "[[NIPOPPY_DPATH_PIPELINE_OUTPUT]]/[[NIPOPPY_BIDS_PARTICIPANT]]/[[NIPOPPY_BIDS_SESSION]]",
		    "--bind",
                    "[[NIPOPPY_DPATH_CONTAINERS]]/[[NIPOPPY_PIPELINE_NAME]]_[[NIPOPPY_PIPELINE_VERSION]].sif"
                ]
            },
            "STEPS": [
                {
                    "INVOCATION_FILE": "[[NIPOPPY_DPATH_INVOCATIONS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]].json",
                    "DESCRIPTOR_FILE": "[[NIPOPPY_DPATH_DESCRIPTORS]]/[[NIPOPPY_PIPELINE_NAME]]-[[NIPOPPY_PIPELINE_VERSION]].json"
                }
            ]
        }
    ],
    "CUSTOM": {}
}

